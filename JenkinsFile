pipeline {
    agent any

    tools {
        nodejs 'node' 
    }

    stages {
        stage('Install Dependencies') {
            steps {
                bat 'npm install' 
            }
        }

        stage('Selenium Tests') {
            steps {
                script {
                    // Replace C:\Your\Path\To\python.exe with the actual path you found!
                def PYTHON_EXEC = 'C:\\Users\\babal\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe' 
                
                // 1. Install Selenium using the full path
                bat "${PYTHON_EXEC} -m pip install selenium" 
                
                // 2. Run the Python script using the full path
                bat "${PYTHON_EXEC} \"tests/E2E Selenium tests/login.py\""
                }
            }
        }
    }
}