pipeline {
    agent any

    tools {
        nodejs 'node' 
    }

    stages {
        stage('Install Dependencies') {
            steps {
                // This checks if your MERN app code is valid and can install packages
                bat 'npm install' 
            }
        }

        // REMOVED: stage('Build Docker Image') 

        stage('Selenium Tests') {
            steps {
                script {
                    // 1. Install Selenium
                    bat 'pip install selenium' 
                    
                    // 2. Run the Python script
                    // Assuming you updated login.py to be "headless" as discussed!
                    bat 'python "tests/E2E Selenium tests/login.py"'
                }
            }
        }
    }
}